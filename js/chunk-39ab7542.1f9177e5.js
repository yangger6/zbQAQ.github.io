(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39ab7542"],{"0f31":function(i,t,e){"use strict";e.r(t);var n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"main wMainContent"},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.isStart,expression:"isStart"}],staticClass:"gameBox",style:i.gamesBoxStyle},[e("div",{staticClass:"sweeper",class:{eventNone:i.gameIsEnd}},i._l(i.mapArr,(function(t,n){return e("div",{key:n,staticClass:"row"},i._l(t,(function(t,n){return e("div",{key:n,staticClass:"mineItem",class:{clickActive:t.isClick,showBoom:t.isBoomShow,boom:t.isBoom&&i.isHacker},on:{click:function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:i.leftClick(t.lng[0],t.lng[1])},contextmenu:function(e){return e.preventDefault(),i.rightClick(t.lng[0],t.lng[1])}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.isBoomShow&&t.isBoom,expression:"col.isBoomShow && col.isBoom"}],attrs:{src:"/img/mineSweeper/boom.png",alt:""}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isSign&&!t.isClick,expression:"col.isSign && !col.isClick"}],attrs:{src:"/img/mineSweeper/flag.png",alt:""}}),e("p",{directives:[{name:"show",rawName:"v-show",value:t.isClick,expression:"col.isClick"}]},[i._v(i._s(t.val))])])})),0)})),0),e("div",{staticClass:"gameInfo"},[e("p",{staticClass:"time"},[i._v(i._s(i.timeStr))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.isStart,expression:"isStart"}],staticClass:"gameControl"},[e("button",{staticClass:"reset",on:{click:i.reset}},[i._v("重新设置")]),e("button",{staticClass:"reStart",on:{click:i.reStart}},[i._v("重新开始")]),e("button",{staticClass:"hacker",on:{click:i.hacker}},[i._v("透视模式")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!i.isStart,expression:"!isStart"}],staticClass:"noneSetting"},[e("h2",[i._v("请先进行游戏设置")]),e("p",[i._v(" 行数： "),e("input",{directives:[{name:"model",rawName:"v-model",value:i.row,expression:"row"}],attrs:{type:"number",max:i.inputRange.rowRange.max,min:i.inputRange.rowRange.min,id:"rowInput",placeholder:"输入游戏格局的行数"},domProps:{value:i.row},on:{input:function(t){t.target.composing||(i.row=t.target.value)}}}),e("span",{staticClass:"inputTip"},[i._v("最大28, 最小10")])]),e("p",[i._v(" 列数： "),e("input",{directives:[{name:"model",rawName:"v-model",value:i.col,expression:"col"}],attrs:{type:"number",max:i.inputRange.colRange.max,min:i.inputRange.colRange.min,id:"colInput",placeholder:"输入游戏格局的列数"},domProps:{value:i.col},on:{input:function(t){t.target.composing||(i.col=t.target.value)}}}),e("span",{staticClass:"inputTip"},[i._v("最大50, 最小10")])]),e("p",[i._v(" 难度： "),e("input",{directives:[{name:"model",rawName:"v-model",value:i.difficulty,expression:"difficulty"}],attrs:{type:"number",max:i.inputRange.diffRange.max,min:i.inputRange.diffRange.min,id:"diffInput",placeholder:"输入游戏难度"},domProps:{value:i.difficulty},on:{input:function(t){t.target.composing||(i.difficulty=t.target.value)}}}),e("span",{staticClass:"inputTip"},[i._v(" 最大"+i._s(i.inputRange.diffRange.max)+", 最小"+i._s(i.inputRange.diffRange.min)+".0 ")])]),e("p",[e("button",{attrs:{type:"button"},on:{click:i.mapInit}},[i._v("开始游戏")])])])])},s=[],a={name:"mineSweeper",data:function(){return{msg:"this is mineSweeper",mapArr:[],row:10,col:10,mineStep:0,difficulty:1,itemStyle:25,gamesBoxStyle:{},gameIsEnd:!1,inputRange:{rowRange:{max:28,min:10},colRange:{max:50,min:10},diffRange:{max:5,min:1}},isStart:!1,timeStr:"00:00:00",timer:null,isHacker:!1}},created:function(){},methods:{timerStep:function(i){var t,e,n,s,a=this;t=e=n=0,i?this.timer=setInterval((function(){n>=0&&(n+=1),n>=60&&(e+=1,n=0),e>=60&&(t+=1,e=0),s=a.fillup(t)+":"+a.fillup(e)+":"+a.fillup(n),a.timeStr=s}),1e3):window.clearInterval(this.timer)},fillup:function(i){return i<10?"0"+i:i},mapInit:function(){var i=this,t=this.inputRange,e=t.rowRange,n=t.colRange,s=t.diffRange,a=this.row,o=this.col;this.mineStep=a*o;var r=this.difficulty,l=this.mapArr,m="";if(m=a>e.max||a<e.min?"行数":o>n.max||o<n.min?"列数":r>s.max||r<s.min?"难度":null,null===m){this.gamesBoxStyle={width:o*this.itemStyle+"px",height:a*this.itemStyle+"px",marginTop:a*this.itemStyle/2*-1+"px",marginLeft:o*this.itemStyle/2*-1+"px"};for(var c=1,u=0;u<a;u++){l.push([]);for(var p=0;p<o;p++){var h={id:c++,lng:[u,p],isBoom:10*Math.random()<r,isBoomShow:!1,isSign:!1,isClick:!1};l[u].push(h)}}this.initMine(this.mapArr),setTimeout((function(){i.isStart=!0}),0)}else this.$message({message:m+"不能超过指定范围",type:"warn"})},initMine:function(i){for(var t=i.length,e=0;e<t;e++)for(var n=0;n<i[e].length;n++){var s=i[e][n];if(!s.isBoom){for(var a=[[e-1,n-1],[e-1,n],[e-1,n+1],[e,n-1],[e,n+1],[e+1,n-1],[e+1,n],[e+1,n+1]],o=0,r=0;r<a.length;r++){var l=a[r][0],m=a[r][1];if(l>=0&&m>=0&&l<=this.row-1&&m<=this.col-1){var c=i[l][m];c&&c.isBoom&&o++}}s.val=o||""}}this.timerStep(!0)},leftClick:function(i,t){if(!(i<0||t<0||i>this.row-1||t>this.col-1)){var e=this.mapArr[i][t];if(!e.isClick&&!e.isSign){if(e.isBoom)return e.isBoomShow,this.failGame();e.isClick=!0,this.mineStep--,e.val||(this.leftClick(i-1,t),this.leftClick(i+1,t),this.leftClick(i,t-1),this.leftClick(i,t+1))}}},rightClick:function(i,t){var e=this.mapArr[i][t];e.isClick||(e.isSign=!e.isSign,!1===e.isSign?this.mineStep++:this.mineStep--,console.log("rightClick",this.mineStep))},failGame:function(){for(var i=this.mapArr,t=i.length,e=0;e<t;e++)for(var n=0;n<i[e].length;n++){var s=i[e][n];s.isBoom&&(s.isClick=!0,s.isBoomShow=!0)}this.gameIsEnd=!0,this.timerStep(!1),alert("你输了！")},passGame:function(){var i=this;setTimeout((function(){i.gameIsEnd=!0,alert("恭喜你，你赢了！")}),0)},watchEndGame:function(){for(var i=this.mapArr,t=i.length,e=!1,n=0;n<t;n++)for(var s=0;s<i[n].length;s++){var a=i[n][s];(a.isBoom&&a.isSign||!a.isBoom)&&(e=!0)}e?this.passGame():this.failGame(),this.timerStep(!1)},reset:function(){this.$router.go(0)},reStart:function(){this.timerStep(!1),this.timeStr="00:00:00",this.mapArr=[],this.mapInit(),this.gameIsEnd=!1},hacker:function(){this.isHacker=!this.isHacker}},computed:{},watch:{mineStep:function(i){i<=0&&this.watchEndGame()}}},o=a,r=(e("c544"),e("2877")),l=Object(r["a"])(o,n,s,!1,null,"1dd5eeda",null);t["default"]=l.exports},"4c7e":function(i,t,e){},c544:function(i,t,e){"use strict";var n=e("4c7e"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-39ab7542.1f9177e5.js.map